(this.webpackJsonptiktuk=this.webpackJsonptiktuk||[]).push([[0],{28:function(e,t,a){},51:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(22),l=a.n(c),s=a(9),o=(a(28),a(1)),i=(a(29),a(10)),u=a.n(i),d=a(7),m=a(2),g=a.n(m),v=a(53);const h=({userFeedServerData:e})=>React.createElement("div",{className:"bg-dark"},e.map((e=>React.createElement(v.a,{key:e.id,className:"bg-dark text-light text-center"},React.createElement(v.a.Body,null,React.createElement(d.d,{height:e.video.height/2,src:e.video.playAddr,width:e.video.width/2}),React.createElement(v.a.Title,null,e.desc),React.createElement(d.a,{avatar:e.author.avatarThumb,nickname:e.author.nickname}),React.createElement(d.c,{comments:e.stats.commentCount,likes:e.stats.diggCount,views:e.stats.playCount}))))));h.propTypes={userFeedServerData:g.a.arrayOf(g.a.shape({id:g.a.string.isRequired,videoMeta:g.a.string.isRequired})).isRequired};var R=h;const E=({user:e,stats:t})=>React.createElement("div",{className:"bg-dark text-light d-flex align-items-center justify-content-center p-3"},e&&React.createElement("div",null,React.createElement("h2",{className:"text-center"},e.nickname),React.createElement("img",{alt:e.nickname,className:"w-200",src:e.avatarLarger})),t&&React.createElement("div",{className:"ml-3"},React.createElement("p",null,`\u2b05\ufe0f Followers: ${t.followerCount.toLocaleString()}`),React.createElement("p",null,`\u27a1\ufe0f Following: ${t.followingCount.toLocaleString()}`),React.createElement("p",null,`\u2764\ufe0f Total likes: ${t.heartCount.toLocaleString()}`),React.createElement("p",null,`\ud83c\udfa5 Total videos: ${t.videoCount.toLocaleString()}`)));E.propTypes={stats:g.a.shape({followerCount:g.a.string.isRequired,followingCount:g.a.string.isRequired,heartCount:g.a.string.isRequired,videoCount:g.a.string.isRequired}),user:g.a.shape({avatarLarger:g.a.string.isRequired,nickname:g.a.string.isRequired})},E.defaultProps={stats:{followerCount:"no data",followingCount:"no data",heartCount:"no data",videoCount:"no data"},user:{nickname:"John Doe",avatarLarger:"https://pbs.twimg.com/profile_images/1326707048478892033/Ln0v50LP_400x400.jpg"}};var p=E;var b=e=>{return t=void 0,a=null,r=function*(){try{const t=yield u.a.get("trendingFeed.json");return console.log(e),t.data}catch(t){return console.error(t),t}},new Promise(((e,n)=>{var c=e=>{try{s(r.next(e))}catch(t){n(t)}},l=e=>{try{s(r.throw(e))}catch(t){n(t)}},s=t=>t.done?e(t.value):Promise.resolve(t.value).then(c,l);s((r=r.apply(t,a)).next())}));var t,a,r};var k=e=>{return t=void 0,a=null,r=function*(){try{const t=yield u.a.get("userFeed.json");return console.log(e),t.data}catch(t){return console.error(t),t}},new Promise(((e,n)=>{var c=e=>{try{s(r.next(e))}catch(t){n(t)}},l=e=>{try{s(r.throw(e))}catch(t){n(t)}},s=t=>t.done?e(t.value):Promise.resolve(t.value).then(c,l);s((r=r.apply(t,a)).next())}));var t,a,r};const f=Object(r.createContext)();var y=()=>{const{setIsLoading:e,isLoading:t}=Object(r.useContext)(f),a=Object(o.g)(),[n,c]=Object(r.useState)({}),[l,s]=Object(r.useState)([]);return Object(r.useEffect)((()=>{u.a.get("./user-feed.json").then((e=>{s(e.data.itemList)})).catch((e=>console.log(e)))}),[]),Object(r.useEffect)((()=>{a.currentUser&&k(a.currentUser).then((t=>{c(t),e(!1)})).catch((e=>console.log(e)))}),[a]),React.createElement("div",null,t?React.createElement(d.b,null):React.createElement(p,{stats:n.stats,user:n.user}),l&&React.createElement(R,{userFeedServerData:l.slice(0,29)}))};const w=({trendingFeedServerData:e})=>React.createElement("div",{className:"bg-dark"},e.map((e=>React.createElement(v.a,{key:e.id,className:"bg-dark text-light text-center"},React.createElement(v.a.Body,null,React.createElement(d.d,{height:e.videoMeta.height/2,src:e.videoUrl,width:e.videoMeta.width/2}),React.createElement(v.a.Title,null,e.text),React.createElement(s.b,{to:`/${e.authorMeta.name}`},React.createElement(d.a,{avatar:e.authorMeta.avatar,nickname:e.authorMeta.nickName})),React.createElement(d.c,{comments:e.commentCount,likes:e.diggCount}))))));w.propTypes={trendingFeedServerData:g.a.arrayOf(g.a.shape({id:g.a.string.isRequired,videoMeta:g.a.shape({duration:m.number,height:m.number,width:m.number}),videoUrl:g.a.string.isRequired})).isRequired};var C=w;var j=()=>{const{setIsLoading:e,isLoading:t}=Object(r.useContext)(f),[a,n]=Object(r.useState)([]);return Object(r.useEffect)((()=>{t||e(!0),b().then((t=>{n(t),e(!1)}))}),[]),React.createElement("div",null,t?React.createElement(d.b,null):React.createElement(C,{trendingFeedServerData:a}))};var x=()=>{const[e,t]=Object(r.useState)(!0),a=Object(r.useMemo)((()=>({isLoading:e,setIsLoading:t})),[e,t]);return React.createElement(f.Provider,{value:a},React.createElement("div",{className:"App"},React.createElement(o.c,null,React.createElement(o.a,{element:React.createElement(j,null),path:"/"}),React.createElement(o.a,{element:React.createElement(y,null),path:"/:currentUser"}))))};l.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(s.a,null,n.a.createElement(x,null))),document.querySelector("#root"))}},[[51,1,2]]]);
//# sourceMappingURL=main.1e5e0345.chunk.js.map